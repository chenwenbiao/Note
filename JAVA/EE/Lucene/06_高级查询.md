![](pics/高级查询01.png)

```shell script
# 把title中一定包含oppo
# sellpoint中一定不包含拍照
# 价格可以是5899的查询出来
GET /qf/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "title": "oppo"
          }
        }
      ],
      "must_not": [
        {
          "match": {
            "sellpoint": "拍照"
          }
        }
      ],
      "should": [
        {
          "match": {
            "price": "5899"
          }
        }
      ]
    }
  }
}
```

![](pics/高级查询02.png)

```shell script
GET /qf/_search
{
 "query": {
   "range": {
     "price": {
       "gte": 1000,
       "lte": 11000
     }
   }
 }
}

GET /_search
{
  "query": {
    "range": {
      "price": {
        "gte": 10,
        "lte": 20000
      }
    }
  }
}
```

![](pics/高级查询03.png)

![](pics/高级查询04.png)

![](pics/高级查询05.png)

```shell script
GET /qf/_search
{
  "query": {
    "fuzzy": {
      "title": "ppo"
    }
  }
}

GET /qf/_search
{
  "query": {
    "fuzzy": {
      "title": "oapo"
    }
  }
}

# 允许2个字母出错
GET /qf/_search
{
  "query": {
    "fuzzy": {
      "title": {
        "value": "lnternationao",
        "fuzziness": 2
      }
    }
  }
}
```

![](pics/查询条件中进行过滤01.png)

```shell script
GET /qf/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "title": "oppo"
          }
        }
      ],
      "filter": {
        "range": {
          "price": {
            "gte": 10,
            "lte": 6000
          }
        }
      }
    }
  }
}
```

![](pics/排序01.png)

![](pics/排序02.png)

```shell script
# title中带有oppo的,价格升序排序
GET /qf/_search
{
  "query": {
    "match": {
      "title": "oppo"
    }
  },
  "sort": [
    {
      "price": {
        "order": "asc"
      }
    }
  ]
}

# title中带有oppo的,价格升序排序,分数升序排序
GET /qf/_search
{
  "query": {
    "match": {
      "title": "oppo"
    }
  },
  "sort": [
    {
      "price": {
        "order": "asc"
      }
    },
    {
      "_score": "asc"
    }
  ]
}
```