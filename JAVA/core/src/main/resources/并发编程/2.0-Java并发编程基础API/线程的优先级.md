# 线程的优先级

    线程的优先级可以在程序中表明该线程的重要性，如果有很多线程处于就绪状态，系统会根据优先级来决定首先使哪个线程进入运行状态。

    优先级高的线程会比优先级低的线程获得更多的运行机会,优先级高的线程只是理论上会更优先的获取执行的机会，但并不意味着一定优先执行
    
    但这个并不意味着低优先级的线程得不到运行，而只是它运行的几率比较小，如垃圾回收机制线程的优先级就比较低。

**线程优先级具有继承特性。** 比如A线程启动B线程，则B线程的优先级和A是一样的。

**线程优先级具有随机性。** 也就是说线程优先级高的不一定每一次都先执行完。

    线程的最小优先级: Thread.MIN_PRIORITY（常数1）
    分配给一个线程的默认优先级: Thread.NORM_PRIORITY（常数5）
    线程允许的最大优先级: Thread.MAX_PRIORITY（常数10）
    
    每个线程的优先级都在Thread.MIN_PRIORITY（常数1） 到Thread.MAX_PRIORITY（常数10）之间

    getPriority()方法来获取当前线程优先级

# 线程的优先级是否一定会起作用?

    事实上，并不是所有的操作系统都支持优先级的设置，有些操作系统会直接忽略优先级的设置。
    
    因此在实际开发中，尽量不要去设置一个线程运行时的优先级，因为结果可能不是你想要的那样

>可以通过jps+jstack工具查看线程的优先级,通过jps命令查看当前操作系统中正在运行的java进程的pid,然后通过jstack pid来查看

    其中prio，表示的是JVM设置的优先级, os_prio表示的是对应的操作系统线程的优先级
    前面我们提到过，JVM线程和操作系统线程是一一对应的

---

    可以看到在windows操作系统上，线程优先级好像是有作用的，P1和P10线程对应的操作系统优先级是不一样的
    但是对于CentOS 6.5，可以看到对应的线程优先级都是0，说明，线程的优先级设置被忽略了
