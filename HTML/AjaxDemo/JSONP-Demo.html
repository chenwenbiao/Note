<!DOCTYPE html>
<html>
<head>
	<title>JSONP-Demo</title>
	<script type="text/javascript">
		//JavaScript无法请求外域（就是其他网站）的URL，怎么解决?
		//JSONP，它有个限制，只能用GET请求，并且要求返回JavaScript。这种方式跨域实际上是利用了浏览器允许跨域引用JavaScript资源
		//JSONP通常以函数调用的形式返回，例如，返回JavaScript内容如下：foo('data');
		//ex:http://api.money.126.net/data/feed/0000001,1399001?callback=refreshPrice，你将得到如下返回：
		//refreshPrice({"0000001":{"code": "0000001", ... });
	</script>
	<script type="text/javascript">
		function refreshPrice(data){
			var p = document.getElementById('test-jsonp');
			p.innerHTML = '当前价格：' +
		        data['0000001'].name +': ' + 
		        data['0000001'].price + '；' +
		        data['1399001'].name + ': ' +
		        data['1399001'].price;
		}

		function getPrice(){
			var
				js = document.createElement('script'),
				head = document.getElementsByTagName('head')[0];
			js.src = 'http://api.money.126.net/data/feed/0000001,1399001?callback=refreshPrice';
			head.appendChild(js);
		}
	</script>
</head>
<body>
	<button onclick="getPrice()">Refresh</button>
	<p id="test-jsonp">placeholder</p>
</body>
</html>