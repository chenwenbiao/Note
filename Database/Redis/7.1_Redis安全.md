## 可信的环境

在生产环境运行时不能允许外界直接连接到Redis服务器上，而应该通过`应用程序进行中转`，运行在可信的环境中是保证Redis安全的最重要方法。

Redis的默认配置在任何一个拥有公网IP的服务器上,只要启动，都可以被外界直接访问到。要更改这一设置，在配置文件中修改bind参数，如只允许本机应用连接Redis，可以将bind参数改成：`bind 127.0.0.1`(2.8之前只能bind一个地址)

## 数据库密码

还可以通过配置文件中的requirepass参数为Redis设置一个密码。例如：`requirepass TAFK(@~!ji^XALQ(sYh5xIwTn5D s7JF`

```shell
# 客户端每次连接到Redis时都需要发送密码，否则Redis会拒绝执行客户端发来的命令,发送密码需要使用AUTH命令，就像这样：
AUTH TAFK(@~!ji^XALQ(sYh5xIwTn5D s7JF

# 之后就可以执行任何命令了
```

由于Redis的性能极高，并且输入错误密码后Redis并不会进行主动延迟（考虑到Redis的单线程模型），所以攻击者可以通过穷举法破解Redis的密码（1秒内能够尝试十几万个密码），因此在设置时一定要选择复杂的密码。

>提示 配置Redis复制的时候如果主数据库设置了密码，需要在从数据库的配置文件中通过masterauth参数设置主数据库的密码，以使从数据库连接主数据库时自动使用AUTH命令认证。

## 命名命令

Redis支持在配置文件中将命令重命名，比如将FLUSHALL命令重命名成一个比较复杂的名字，以保证只有自己的应用可以使用该命令。就像这样：`rename-command FLUSHALL oyfekmjvmwxq5a9c8usofuo369x0it2k`

如果希望直接禁用某个命令可以将命令重命名成空字符串：`rename-command FLUSHALL ""`

>注意 无论设置密码还是重命名命令，都需要`保证配置文件的安全性`，否则就没有任何意义了。