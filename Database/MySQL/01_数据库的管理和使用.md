# 数据库的管理和使用

>登录mysql，备份，以及从备份恢复:

```sql
# mysql登录:
mysql -h hostname -P port -u username -p

# 数据库备份(从cmd命令行备份):
mysqldump -u root -p test > d:\test.sql

# 数据库恢复(进入mysql控制台恢复),注意如果test.sql脚本中没有选择数据库，
需要先选择数据库，如果没有数据库，要先创建数据库:
source d:\test.sql

# 数据库恢复(从cmd命令行恢复)
mysql -u root -p < schema.sql

-- 虽然SELECT可以用作计算，但它并不是SQL的强项。但是，不带FROM子句的SELECT语句有一个有用的用途，
-- 就是用来判断当前到数据库的连接是否有效。许多检测工具会执行一条SELECT 1;来测试数据库连接。
SELECT 1;

-- 查看当前数据库
    SELECT DATABASE();
-- 显示当前时间、用户名、数据库版本
    SELECT now(), user(), version();
```

数据库创建与使用：

```sql
-- 创建数据库
CREATE DATABASE IF NOT EXISTS test CHARACTER SET charset_name, COLLATE collation_name;

-- 查看数据库
SHOW DATABASES;

-- 查看已有库
    SHOW DATABASES [ LIKE 'PATTERN']
    
-- 选择数据库
USE test;

# 查看创建数据库的SQL语句:
show create database db;

# 删除数据库:
# 注意：删除一个数据库将导致该数据库的所有表全部被删除。
drop database if exists <db_name>;

# 列出当前数据库的所有表：
SHOW TABLES;

SHOW TABLES[ LIKE 'pattern']
SHOW TABLES FROM  库名

-- 修改数据库的字符集以及校对规则
ALTER DATABASE <DBNAME> CHARACTER SET utf8 COLLATE utf8_general_ci;
```